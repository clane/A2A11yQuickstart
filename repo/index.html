<!DOCTYPE html>
<html lang="en">
    <head>
        <title>A2 A11y Quickstart</title><!-- Will be replaced when routing -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styles.css">

        <!-- Polyfill(s) for older browsers -->
        <script src="node_modules/core-js/client/shim.min.js"></script>
        <script src="node_modules/zone.js/dist/zone.js"></script>
        <script src="node_modules/reflect-metadata/Reflect.js"></script>
        <script src="node_modules/systemjs/dist/system.src.js"></script>

        <script src="systemjs.config.js"></script>

        <script>
            System.import('app').catch(function(err){ console.error(err); });
        </script>

        <!--  base path for local dev environment --> 
        <base href="/">

        <!-- custom path for live deployment in subdirectory -->
        <!-- <base href="/a2live/eddie/repo/"> -->
    
  </head>
  <body tabindex="-1">

      <!-- 
      This is the main component for this demo. It is composed of other custom components
      yet the building blocks are still standard HTML elements 
      -->

      <app-component>Loading...</app-component>

       <script>
          function runVisualARIA(){
              var a=document.createElement('script');
              a.type='text/javascript';
              a.src='https://gutterstar.bizland.com/whatsock/training/matrices/visual-aria/roles.js';
              document.head.appendChild(a);
          }         
      </script>

      	

      <script>
           

            window.onload = function() {
                var titleEl = document.getElementsByTagName("title")[0];
                var docEl = document.documentElement;

                function titleModified() {
                    var background;
                    var titleText = titleEl.textContent;
                    if(titleText === "MODAL TIME"){
                        document.body.style.background = "none"; 
                    } else {
                        var background = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCI+CjxmaWx0ZXIgaWQ9Im4iPgo8ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjciIG51bU9jdGF2ZXM9IjEwIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIj48L2ZlVHVyYnVsZW5jZT4KPC9maWx0ZXI+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiBmaWxsPSIjMDAwIj48L3JlY3Q+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiBmaWx0ZXI9InVybCgjbikiIG9wYWNpdHk9IjAuNCI+PC9yZWN0Pgo8L3N2Zz4=")';
                        document.body.style.background = background; 
                    }
                
                }

                if (docEl && docEl.addEventListener) {
                    docEl.addEventListener("DOMSubtreeModified", function(evt) {
                        var t = evt.target;
                        if (t === titleEl || (t.parentNode && t.parentNode === titleEl)) {
                            titleModified();
                        }
                    }, false);
                } else {
                    document.onpropertychange = function() {
                        if (window.event.propertyName === "title") {
                            titleModified();
                        }
                    };
                }
            };
        </script>    



</body>
</html>
